<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noahs Tutoring - Terminal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #000000;
            color: #c27c15;
            font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.0;
            height: 100vh;
            overflow: hidden;
            padding: 0;
        }
        
        .container {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            padding: 2px;
        }
        
        .ascii-logo {
            color: #c27c15;
            white-space: pre;
            font-size: 9px;
            line-height: 1.0;
            margin-bottom: 1px;
            letter-spacing: -0.5px;
        }
        
        .boot-line {
            margin-bottom: 0px;
            white-space: pre;
        }
        
        .time {
            color: #8a5c0f;
        }
        
        .status-ok {
            color: #4e9a06;
        }
        
        .status-info {
            color: #c27c15;
        }
        
        .status-warn {
            color: #c4a000;
        }
        
        .status-err {
            color: #cc0000;
        }
        
        .status-load {
            color: #3465a4;
        }
        
        .loading-container {
            display: inline-block;
            width: 40px;
            background: #111;
            border: 0;
            margin: 0 5px 0 0;
            vertical-align: middle;
        }
        
        .loading-bar {
            background: #c27c15;
            height: 12px;
            width: 0%;
            color: #000;
            font-size: 8px;
            line-height: 12px;
            text-align: center;
            overflow: hidden;
            font-weight: bold;
        }
        
        .percentage {
            color: #4e9a06;
            font-weight: bold;
            margin-left: 2px;
        }
        
        .asset-name {
            color: #8a5c0f;
            font-style: italic;
        }
        
        .cursor {
            display: inline-block;
            width: 6px;
            height: 12px;
            background-color: #c27c15;
            animation: blink 1s infinite;
            vertical-align: middle;
            margin-left: 1px;
        }
        
        .countdown {
            color: #cc0000;
            font-weight: bold;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #111;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c27c15;
        }
    </style>
</head>
<body>
    <div class="container" id="terminal">
        <div class="ascii-logo" id="asciiLogo"></div>
    </div>

    <script>
        const asciiLogo = `.::.     :      +&$.         ::.     ::     .:     $&&X     
 &&&&:   X&&   x&&&&&&       &&&&:   X&&x    &&&  X&&&&&&&   
 &&&&&   X&&  x&&&&&&&&     :&&&&x   X&&x    &&& ;&&&&&&&&x  
 &&&&&:  X&&  &&&&&&&&&$    x&&&&&   X&&x    &&&;&&&X  x&&&  
 &&&&&&  X&& $&&&& ;&&&&    &&&&&&   X&&x    &&&x&&&+   &&&. 
 &&&&&&; X&&;&&&&    &&&+   &&&&&&.  X&&X    &&&x&&&&        
 &&&&&&& X&&x&&&:    &&&&  .&&&x&&+  X&&&&&&&&&&x&&&&&&&&X   
 &&&&&&&+X&&$&&&     ;&&&  +&&X.&&&  X&&&&&&&&&&;&&&&&&&&&x  
 &&&.&&&&&&&$&&&     :&&&  $&&; &&&  X&&&&&&&&&& ;&&&&&&&&&  
 &&& &&&&&&&$&&&     +&&&  &&&  $&&. X&&&&&&&&&&   &&&&&&&&  
 &&& :&&&&&&+&&&;    &&&$  &&&&&&&&+ X&&x    &&&       &&&&. 
 &&&  &&&&&&.&&&&   ;&&&: ;&&&&&&&&& X&&x    &&&+&&&.  X&&&  
 &&&  ;&&&&& +&&&&&&&&&&  X&&&&&&&&& X&&x    &&&+&&&X  &&&&  
 &&&   &&&&&  &&&&&&&&&:  &&&:   &&& X&&x    &&& X&&&&&&&&x  
 &&&   ;&&&&   &&&&&&&X   &&&    X&&;$&&x    &&&  &&&&&&&&   
 &&&    &&&&    $&&&&:   .&&x    :&&xX&&+    &&&   $&&&&&    
:::::::::::::::::;x+::::::.. .:::...................:;;......
$         .X$X  .       $$+   x$x      Xx  :  X$x .X$:   ;$$$
$          X$X          $x     xx      .x  .  ;$x  X:     x$$
$          X$X          X      :x       +  .   $x  +       X$
$          X$X          x       ;  :;.  +  .   xx  :   .   X$
$          X$X  .      .+  ;$:  :  x$X  +  .   ;x     x$:  x$
$$$+  $$x  X$X  x$X  x$$.  X$x  .  x$X  +  .    x    .X$x  x$
$$$+  $$x  X$X  x$X  x$$   $$X     +X;  x  .    :    :X$$$$$$
$$$+  $$x  X$X  x$X  x$X  .$$X.        ;x  . .       :$$$$$$$
$$$+  $$x  X$X  x$X  x$X  .$$X.        $x  . ;       :$$x+;X$
$$$+  $$x  X$X  x$X  x$$.  $$X         :x  . +.      :X$:  ;$
$$$+  $$x  x$x  x$X  x$$:  X$+  .  xX   x  . x+       x$x  ;$
$$$+  $$x   .   X$X  x$$x  .x   :  x$:  +  . xx    .  ;X   ;$
$$$+  $$X      :X$X  x$$X      .+  x$:  +  . xX    ;       ;$
$$$+  $$$;     x$$X  x$$$:     +x  x$;  +  . x$;   x       ;$
$$$+  $$$X.   :X$$X  x$$$X    :$x  x$+  +  . x$x   X+    + ;$
$$$X+x$$$$$x+x$$$$$++X$$$$X: +$$XxxX$$++X++x+X$$x+x$$x. x$+x$`;

        document.getElementById('asciiLogo').textContent = asciiLogo;

        const terminal = document.getElementById('terminal');
        let bootTime = 0.000000;
        let skipLoading = false;
        let skipConfirmed = false;
        let skipRequested = false;
        
        const loadingVariations = [
            "Loading",
            "Processing",
            "Initializing",
            "Compiling",
            "Parsing",
            "Optimizing",
            "Caching",
            "Validating",
            "Verifying",
            "Mounting",
            "Starting",
            "Configuring",
            "Building",
            "Generating",
            "Transpiling",
            "Rendering",
            "Compressing",
            "Decompressing",
            "Analyzing",
            "Scanning"
        ];
        
        const moduleVariations = [
            "tutor modules",
            "lesson modules",
            "subject libraries",
            "learning objects",
            "problem files",
            "configuration files",
            "resource packages",
            "diagram assets",
            "formula compilers",
            "audio lessons",
            "font files",
            "localization data",
            "UI components",
            "sync protocols",
            "input handlers",
            "progress trackers",
            "cache layers",
            "database connections",
            "API endpoints",
            "service workers"
        ];
        
        const bootMessages = [
            { time: 0.000000, status: "info", message: "Noah's Tutoring Hub version 1.0.0 (admin@tutoringhub) (tutor-engine 1.2.0)" },
            { time: 0.001234, status: "info", message: "Command line: BOOT_IMAGE=/boot/tutorhub root=UUID=xxxx ro quiet splash vt.handoff=7" },
            { time: 0.002567, status: "ok", message: "Core: Booting education configuration" },
            { time: 0.003891, status: "ok", message: "Detected 1 education processor" },
            { time: 0.005234, status: "ok", message: "Memory: 2048M available" },
            { time: 0.006578, status: "info", message: "Initializing tutor loading subsystem..." },
            { time: 0.007912, status: "info", message: "Starting web/tutoring asset pipeline" },
            { time: 0.009245, status: "info", message: "Mounting curriculum filesystem" },
            { time: 0.010578, status: "ok", message: "Curriculum filesystem mounted" }
        ];

        const assets = [
            { name: "Math Engine", time: 400, size: "2.1MB", variations: ["Formula solver", "Math processor", "Equation engine"] },
            { name: "Physics Simulator", time: 350, size: "1.8MB", variations: ["Physics engine", "Simulation processor", "Motion solver"] },
            { name: "Chemistry Lab", time: 500, size: "4.2MB", variations: ["Chem engine", "Reaction simulator", "Lab processor"] },
            { name: "Calculus Tutor", time: 300, size: "3.5MB", variations: ["Derivative solver", "Integral engine", "Calc processor"] },
            { name: "Algebra Helper", time: 450, size: "2.9MB", variations: ["Equation solver", "Algebra processor", "Math helper"] },
            { name: "Geometry Renderer", time: 400, size: "12.4MB", variations: ["Shape decoder", "Geometry cache", "Diagram loader"] },
            { name: "Lesson Player", time: 350, size: "1.7MB", variations: ["Lesson engine", "Audio processor", "Playback system"] },
            { name: "Quiz Engine", time: 500, size: "5.3MB", variations: ["Test system", "Question solver", "Quiz processor"] },
            { name: "Progress Tracker", time: 300, size: "2.8MB", variations: ["Progress system", "Grade tracker", "Achievement engine"] },
            { name: "Video System", time: 400, size: "3.6MB", variations: ["Lesson streamer", "Video decoder", "Media stack"] },
            { name: "Whiteboard", time: 250, size: "1.2MB", variations: ["Drawing system", "Canvas processor", "Sketch mapper"] },
            { name: "Notes System", time: 200, size: "0.9MB", variations: ["Storage engine", "Notes persister", "Save manager"] },
            { name: "Multi-language", time: 150, size: "0.7MB", variations: ["i18n system", "Locale data", "Translation engine"] }
        ];

        let messageIndex = 0;
        let assetIndex = 0;
        let totalAssets = assets.length;
        let currentProgress = 0;
        let currentLoadingBar = null;
        let extraMessagesAdded = 0;
        let countdownInterval = null;
        let cancelHandler = null;

        function addBootMessage(time, status, message) {
            const line = document.createElement('div');
            line.className = 'boot-line';
            
            const timeSpan = document.createElement('span');
            timeSpan.className = 'time';
            timeSpan.textContent = `[${time.toFixed(6)}] `;
            
            const statusSpan = document.createElement('span');
            statusSpan.className = `status-${status}`;
            statusSpan.textContent = status.toUpperCase() + " ";
            
            const messageSpan = document.createElement('span');
            messageSpan.innerHTML = message;
            
            line.appendChild(timeSpan);
            line.appendChild(statusSpan);
            line.appendChild(messageSpan);
            
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
            
            return line;
        }

        function addRandomMessage() {
            if (Math.random() > 0.7 && extraMessagesAdded < 8) {
                bootTime += 0.000100;
                const loadingType = loadingVariations[Math.floor(Math.random() * loadingVariations.length)];
                const moduleType = moduleVariations[Math.floor(Math.random() * moduleVariations.length)];
                
                let status = Math.random() > 0.2 ? "info" : "load";
                if (Math.random() > 0.9) status = "warn";
                
                const message = `${loadingType} ${moduleType}...`;
                addBootMessage(bootTime, status, message);
                extraMessagesAdded++;
                
                setTimeout(addRandomMessage, Math.random() * 800 + 300);
            } else if (extraMessagesAdded < 8) {
                setTimeout(addRandomMessage, Math.random() * 500 + 200);
            }
        }

        function updateLoadingBar(percentage, assetName) {
            if (currentLoadingBar) {
                currentLoadingBar.remove();
            }
            
            const barLine = document.createElement('div');
            barLine.className = 'boot-line';
            
            const timeSpan = document.createElement('span');
            timeSpan.className = 'time';
            timeSpan.textContent = `[${bootTime.toFixed(6)}] `;
            
            const statusSpan = document.createElement('span');
            statusSpan.className = 'status-load';
            statusSpan.textContent = "LOAD ";
            
            const barContainer = document.createElement('span');
            barContainer.className = 'loading-container';
            barContainer.style.display = 'inline-block';
            
            const barFill = document.createElement('div');
            barFill.className = 'loading-bar';
            barFill.textContent = 'â–ˆ'.repeat(Math.floor(percentage / 10));
            barFill.style.width = `${percentage}%`;
            
            barContainer.appendChild(barFill);
            
            const percentageSpan = document.createElement('span');
            percentageSpan.className = 'percentage';
            percentageSpan.textContent = `${Math.round(percentage)}%`;
            
            let displayName = assetName;
            if (Math.random() > 0.6 && assets[assetIndex] && assets[assetIndex].variations) {
                const variations = assets[assetIndex].variations;
                displayName = variations[Math.floor(Math.random() * variations.length)];
            }
            
            const assetSpan = document.createElement('span');
            assetSpan.className = 'asset-name';
            assetSpan.textContent = ` ${displayName}`;
            
            barLine.appendChild(timeSpan);
            barLine.appendChild(statusSpan);
            barLine.appendChild(barContainer);
            barLine.appendChild(percentageSpan);
            barLine.appendChild(assetSpan);
            
            terminal.appendChild(barLine);
            terminal.scrollTop = terminal.scrollHeight;
            
            currentLoadingBar = barLine;
            return barLine;
        }

        function showBootMessages() {
            if (messageIndex < bootMessages.length) {
                const msg = bootMessages[messageIndex];
                bootTime = msg.time;
                addBootMessage(bootTime, msg.status, msg.message);
                
                messageIndex++;
                
                let delay;
                const r = Math.random();
                if (r > 0.8) {
                    delay = Math.random() * 50 + 30;
                } else if (r > 0.5) {
                    delay = Math.random() * 150 + 50;
                } else if (r > 0.2) {
                    delay = Math.random() * 300 + 100;
                } else {
                    delay = Math.random() * 600 + 200;
                }
                
                setTimeout(showBootMessages, delay);
            } else {
                setTimeout(loadAssets, 300);
                setTimeout(addRandomMessage, 500);
            }
        }

        function loadAssets() {
            if (skipLoading && skipRequested) {
                bootTime += 0.001000;
                addBootMessage(bootTime, "info", "Loading skipped by user");
                setTimeout(finishBoot, 500);
                return;
            }
            
            if (assetIndex < assets.length) {
                const asset = assets[assetIndex];
                
                bootTime += 0.001000;
                addBootMessage(bootTime, "info", `Loading: ${asset.name} (${asset.size})`);
                
                let assetProgress = 0;
                const totalSteps = Math.floor(asset.time / 30);
                const stepIncrement = 100 / totalSteps;
                
                function loadStep() {
                    if (skipLoading && skipRequested) {
                        bootTime += 0.000500;
                        addBootMessage(bootTime, "info", "Loading interrupted");
                        setTimeout(finishBoot, 300);
                        return;
                    }
                    
                    if (assetProgress < 100) {
                        assetProgress = Math.min(100, assetProgress + stepIncrement);
                        
                        updateLoadingBar(assetProgress, asset.name);
                        
                        let stepDelay;
                        if (Math.random() > 0.7) {
                            stepDelay = 20 + Math.random() * 20;
                        } else if (Math.random() > 0.4) {
                            stepDelay = 40 + Math.random() * 30;
                        } else {
                            stepDelay = 60 + Math.random() * 50;
                        }
                        
                        if (Math.random() > 0.95) {
                            stepDelay += 150 + Math.random() * 200;
                        }
                        
                        setTimeout(loadStep, stepDelay);
                    } else {
                        bootTime += 0.000500;
                        addBootMessage(bootTime, "ok", `${asset.name} loaded`);
                        
                        currentProgress = Math.round(((assetIndex + 1) / totalAssets) * 100);
                        
                        if (currentLoadingBar) {
                            currentLoadingBar.remove();
                            currentLoadingBar = null;
                        }
                        
                        assetIndex++;
                        
                        const nextDelay = 80 + Math.random() * 150;
                        setTimeout(loadAssets, nextDelay);
                    }
                }
                
                loadStep();
                
            } else {
                bootTime += 0.001000;
                addBootMessage(bootTime, "ok", "All assets loaded successfully");
                
                setTimeout(() => {
                    bootTime += 0.001000;
                    addBootMessage(bootTime, "ok", "Tutoring Hub ready for user input");
                    
                    const cursorLine = document.createElement('div');
                    cursorLine.className = 'boot-line';
                    cursorLine.innerHTML = `
                        <span class="time">[${bootTime.toFixed(6)}]</span>
                        <span class="status-info">READY</span>
                        <span> Tutoring Hub boot completed</span>
                        <span class="cursor"></span>
                    `;
                    terminal.appendChild(cursorLine);
                    terminal.scrollTop = terminal.scrollHeight;
                    
                    setTimeout(startAutoLaunch, 1500);
                    
                }, 500);
            }
        }

        function finishBoot() {
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }
            if (cancelHandler) {
                document.removeEventListener('keydown', cancelHandler);
                cancelHandler = null;
            }
            
            bootTime += 0.001000;
            addBootMessage(bootTime, "ok", "Tutoring Hub ready for user input");
            
            const cursorLine = document.createElement('div');
            cursorLine.className = 'boot-line';
            cursorLine.innerHTML = `
                <span class="time">[${bootTime.toFixed(6)}]</span>
                <span class="status-info">READY</span>
                <span> Tutoring Hub boot completed</span>
                <span class="cursor"></span>
            `;
            terminal.appendChild(cursorLine);
            terminal.scrollTop = terminal.scrollHeight;
            
            setTimeout(startAutoLaunch, 1500);
        }

        function startAutoLaunch() {
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }
            
            bootTime += 0.001000;
            
            const lines = terminal.querySelectorAll('.boot-line');
            if (lines.length > 0) {
                lines[lines.length - 1].remove();
            }
            
            addBootMessage(bootTime, "info", "Automatically starting tutor interface in 5 seconds...");
            
            let countdown = 5;
            countdownInterval = setInterval(() => {
                bootTime += 0.001000;
                
                const lines = terminal.querySelectorAll('.boot-line');
                if (lines.length > 0) {
                    lines[lines.length - 1].remove();
                }
                
                if (countdown > 0) {
                    addBootMessage(bootTime, "info", `Starting in <span class="countdown">${countdown}</span> second${countdown !== 1 ? 's' : ''}... (Press any key to cancel)`);
                    countdown--;
                } else {
                    clearInterval(countdownInterval);
                    countdownInterval = null;
                    launchSite();
                }
                
                terminal.scrollTop = terminal.scrollHeight;
            }, 1000);
            
            cancelHandler = (e) => {
                if (countdownInterval) {
                    clearInterval(countdownInterval);
                    countdownInterval = null;
                }
                bootTime += 0.001000;
                
                const lines = terminal.querySelectorAll('.boot-line');
                if (lines.length > 0) {
                    lines[lines.length - 1].remove();
                }
                
                addBootMessage(bootTime, "info", `Launch cancelled by user (key: ${e.key})`);
                addBootMessage(bootTime, "info", "Press any key to launch now");
                
                document.removeEventListener('keydown', cancelHandler);
                cancelHandler = (e2) => {
                    document.removeEventListener('keydown', cancelHandler);
                    cancelHandler = null;
                    launchSite();
                };
                document.addEventListener('keydown', cancelHandler);
            };
            
            document.addEventListener('keydown', cancelHandler);
        }

        function launchSite() {
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }
            if (cancelHandler) {
                document.removeEventListener('keydown', cancelHandler);
                cancelHandler = null;
            }
            
            const siteUrl = "https://raw.githubusercontent.com/NoahsAmazingTutoringHelp/Noahs-Calculus-Tutor/refs/heads/master/index.html";
            
            bootTime += 0.001000;
            addBootMessage(bootTime, "info", "Launching tutor interface...");
            
            setTimeout(() => {
                bootTime += 0.001000;
                addBootMessage(bootTime, "ok", "Opening new tab...");
                
                const newTab = window.open('about:blank', '_blank');
                
                if (newTab) {
                    fetch(siteUrl)
                        .then(response => response.text())
                        .then(html => {
                            newTab.document.open();
                            newTab.document.write(html);
                            newTab.document.close();
                            
                            bootTime += 0.001000;
                            addBootMessage(bootTime, "ok", "Tutor interface loaded successfully");
                            
                            setTimeout(() => {
                                bootTime += 0.001000;
                                addBootMessage(bootTime, "info", "Closing boot terminal...");
                                
                                setTimeout(() => {
                                    window.close();
                                }, 1000);
                            }, 1500);
                        })
                        .catch(error => {
                            bootTime += 0.001000;
                            addBootMessage(bootTime, "err", `Failed to load tutor interface: ${error.message}`);
                            addBootMessage(bootTime, "info", "Press any key to retry");
                            
                            document.addEventListener('keydown', () => {
                                location.reload();
                            });
                        });
                } else {
                    bootTime += 0.001000;
                    addBootMessage(bootTime, "err", "Popup blocked. Please allow popups and refresh.");
                    addBootMessage(bootTime, "info", "Or visit: " + siteUrl.replace('raw.githubusercontent.com', 'noahs-calculus-tutor.pages.dev'));
                }
                
                terminal.scrollTop = terminal.scrollHeight;
            }, 800);
        }

        function showSkipPrompt() {
            setTimeout(() => {
                if (!skipConfirmed) {
                    const skip = confirm("This is just a loading screen btw, do you want to skip?");
                    if (skip) {
                        skipLoading = true;
                        skipRequested = true;
                        skipConfirmed = true;
                        
                        bootTime += 0.001000;
                        addBootMessage(bootTime, "info", "User requested skip - accelerating boot...");
                        
                        setTimeout(() => {
                            bootTime += 0.001000;
                            addBootMessage(bootTime, "ok", "Boot sequence accelerated");
                            setTimeout(finishBoot, 300);
                        }, 500);
                    } else {
                        skipConfirmed = true;
                        bootTime += 0.001000;
                        addBootMessage(bootTime, "info", "Continuing full boot sequence...");
                    }
                }
            }, 2000);
        }

        setTimeout(() => {
            showBootMessages();
            showSkipPrompt();
        }, 800);
    </script>
</body>
</html>